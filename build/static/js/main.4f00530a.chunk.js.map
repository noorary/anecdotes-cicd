{"version":3,"sources":["services/anecdotes.js","reducers/anecdoteReducer.js","reducers/notificationReducer.js","components/AnecdoteList.js","components/AnecdoteForm.js","components/Notification.js","reducers/filterReducer.js","components/Filter.js","App.js","store.js","index.js"],"names":["getAll","a","axios","get","response","data","createNew","content","object","votes","id","Math","random","toFixed","post","update","anecdote","console","log","put","updated","anecdoteReducer","state","action","type","anecdoteToVote","find","votedAnecdote","map","sort","a1","a2","setNotification","notification","time","dispatch","timer","setTimeout","clearNotification","notificationReducer","clearTimeout","mapDispatchToProps","vote","voted","anecdoteService","updatedAnecdote","ConnectedAnecdotes","connect","anecdotes","filter","toLowerCase","includes","props","key","onClick","addAnecdote","newAnecdote","handleNewAnecdote","event","preventDefault","target","value","onSubmit","name","style","undefined","border","padding","borderWidth","reducer","setFilter","marginBottom","onChange","App","useDispatch","useEffect","combineReducers","filterReducer","store","createStore","composeWithDevTools","applyMiddleware","thunk","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.4f00530a.chunk.js","sourcesContent":["import axios from 'axios'\n\nconst baseUrl = '/anecdotes'\n\nconst getId = () => (100000 * Math.random()).toFixed(0)\n\nconst getAll = async () => {\n  const response = await axios.get(baseUrl)\n  return response.data\n}\n\nconst createNew = async (content) => {\n  const object = { content, votes: 0, id: getId() }\n  const response = await axios.post(baseUrl, object)\n  return response.data\n}\n\nconst update = async (anecdote) => {\n  console.log(anecdote)\n  const updated = await axios.put(`${baseUrl}/${anecdote.id}`, anecdote)\n  return updated.data\n}\n\nexport default { getAll, createNew, update }","import anecdoteService from '../services/anecdotes'\n\nconst anecdoteReducer = (state = [], action) => {\n  console.log('state now: ', state)\n  console.log('action', action)\n  switch (action.type) {\n    case 'VOTE':\n      const { id } = action.data\n      const anecdoteToVote = state.find((a) => a.id === id)\n      const votedAnecdote = {\n        ...anecdoteToVote,\n        votes: anecdoteToVote.votes +1\n      }\n      return state\n      .map((a) => a.id !== id ? a : votedAnecdote)\n      .sort((a1, a2) => a2.votes - a1.votes)\n    case 'NEW_ANECDOTE':\n      return [...state, action.data]\n    case 'INIT_ANECDOTES':\n      return action.data.sort((a1, a2) => a2.votes - a1.votes)\n    default:\n      return state\n  }\n}\n\nexport const addAnecdote = content => {\n  return async dispatch => {\n    const newAnecdote = await anecdoteService.createNew(content)\n    dispatch({\n      type: 'NEW_ANECDOTE',\n      data: newAnecdote\n    })\n  }\n}\n\nexport const vote = (voted) => {\n  return async dispatch => {\n    const votedAnecdote = {\n      ...voted,\n      votes: voted.votes + 1\n    }\n    console.log(votedAnecdote)\n    const updatedAnecdote = await anecdoteService.update(votedAnecdote)\n    const { id } = updatedAnecdote\n    dispatch({\n      type: 'VOTE',\n      data: { id }\n    })\n  }\n}\n\nexport const initializeAnecdotes = () => {\n  return async dispatch => {\n    const anecdotes = await anecdoteService.getAll()\n    dispatch({\n      type: 'INIT_ANECDOTES',\n      data: anecdotes\n    })\n  }\n}\n\nexport default anecdoteReducer","export const setNotification = ( notification, time ) => {\n  return async dispatch => {\n    const timer = setTimeout(() => {\n      dispatch(clearNotification())\n    }, time * 1000)\n    dispatch({\n      type: 'SET_NOTIF',\n      data: { notification, timer}\n    })\n  }\n}\n\nexport const clearNotification = () => {\n  return {\n    type: 'CLEAR_NOTIF'\n  }\n}\n\nconst notificationReducer = (state = { notification: '', timer: null}, action) => {\n  switch (action.type) {\n    case 'SET_NOTIF':\n      console.log('TÄÄ')\n      console.log(state.timer)\n      if(state.timer !== null) {\n        clearTimeout(state.timer)\n      }\n      \n      return {\n        notification: action.data.notification,\n        timer: action.data.timer\n      }\n    case 'CLEAR_NOTIF':\n      return {\n        notification: '',\n        timer: null\n      }\n    default:\n      return state\n  }\n}\n\nexport default notificationReducer","import React from 'react'\nimport { connect } from 'react-redux'\nimport { vote } from '../reducers/anecdoteReducer'\nimport { setNotification } from '../reducers/notificationReducer'\n\nconst AnecdoteList = (props) => {\n  // const anecdotes = props => {\n  //   return props.anecdotes.filter(anecdote => anecdote.content.toLowerCase().includes(props.filter.toLowerCase()))\n  // }\n\n  const handleVote = (anecdote) => {\n    props.vote(anecdote)\n    props.setNotification(`you voted '${anecdote.content}'`, 5)\n  }\n\n  return (\n    <div>\n      {props.anecdotes.map(a =>\n        <div key={a.id}>\n          <div>\n            {a.content}\n          </div>\n          <div>\n            has {a.votes}\n            <button onClick={() => handleVote(a)}>vote</button>\n          </div>\n        </div>\n      )}\n    </div>\n  )\n}\n\nconst mapStateToProps = (state) => {\n  return {\n    anecdotes: state.anecdotes.filter(anecdote => anecdote.content.toLowerCase().includes(state.filter.toLowerCase()))\n  }\n}\n\nconst mapDispatchToProps = {\n  vote,\n  setNotification,\n}\n\nconst ConnectedAnecdotes = connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(AnecdoteList)\n\nexport default ConnectedAnecdotes","import React from 'react'\nimport { connect } from 'react-redux'\nimport { addAnecdote } from '../reducers/anecdoteReducer'\nimport { setNotification } from '../reducers/notificationReducer'\n\nconst AnecdoteForm = (props) => {\n\n  const handleNewAnecdote = async (event) => {\n    event.preventDefault()\n    const content = event.target.anecdote.value\n    event.target.anecdote.value = ''\n    props.addAnecdote(content)\n    props.setNotification(`you added '${content}'`, 5)\n  }\n\n  return(\n    <div>\n    <h3>add new anecdote</h3>\n    <form onSubmit={handleNewAnecdote}>\n      <input name=\"anecdote\" />\n      <button type=\"submit\">add</button>\n    </form>\n    </div>\n  )\n}\n\nexport default connect(\n  null,\n  { addAnecdote, setNotification}\n)(AnecdoteForm)","import React from 'react'\nimport { connect } from 'react-redux'\n\nconst Notification = (props) => {\n  console.log(props)\n  const notification = props.notification\n  let style\n  if (notification === '' || notification.notification === '') {\n    style = undefined\n  } else {\n    style = {\n      border: 'solid',\n      padding: 10,\n      borderWidth: 1\n    }\n  }\n\n  return (\n    <div style={style}>\n      {notification}\n    </div>\n  )\n}\n\nconst mapStateToProps = state => {\n  return { notification: state.notification.notification}\n}\n\nexport default connect(mapStateToProps, null)(Notification)","const reducer = (state='', action) => {\n  switch(action.type) {\n    case 'SET_FILTER':\n      return action.data.filter\n    default:\n      return state\n  }\n}\n\nexport const setFilter = (filter) => {\n  return {\n    type: 'SET_FILTER',\n    data: { filter }\n  }\n}\n\nexport default reducer","import React from 'react'\nimport { connect } from 'react-redux'\nimport { setFilter } from '../reducers/filterReducer'\n\nconst Filter = (props) => {\n\n  const handleChange = (event) => {\n    const filter = event.target.value\n    props.setFilter(filter)\n  }\n\n  const style = {\n    marginBottom: 10\n  }\n\n  return (\n    <div style={style}>\n      filter anecdotes \n      <input name='filter' onChange={handleChange}></input>\n    </div>\n  )\n}\n\nexport default connect(\n  null,\n  { setFilter }\n)(Filter)","import React, { useEffect } from 'react'\nimport { useDispatch } from 'react-redux'\n\nimport { initializeAnecdotes } from './reducers/anecdoteReducer'\nimport AnecdoteList from './components/AnecdoteList'\nimport AnecdoteForm from './components/AnecdoteForm'\nimport Notification from './components/Notification'\nimport Filter from './components/Filter'\n\n\nconst App = () => {\n\n  const dispatch = useDispatch()\n  useEffect(() => {\n    dispatch(initializeAnecdotes())\n  }, [dispatch])\n\n  return (\n    <div>\n      <Notification />\n      <h2>Anecdotes</h2>\n      <Filter />\n      <AnecdoteList />\n      <AnecdoteForm />\n    </div>\n  )\n}\n\nexport default App","import { createStore, combineReducers, applyMiddleware } from 'redux'\nimport thunk from 'redux-thunk'\nimport { composeWithDevTools } from 'redux-devtools-extension'\nimport anecdoteReducer from './reducers/anecdoteReducer'\nimport notificationReducer from './reducers/notificationReducer'\nimport filterReducer from './reducers/filterReducer'\n\nconst reducer = combineReducers({\n  anecdotes: anecdoteReducer,\n  notification: notificationReducer,\n  filter: filterReducer\n})\n\nconst store = createStore(reducer, composeWithDevTools(applyMiddleware(thunk)))\n\nexport default store","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport { Provider } from 'react-redux'\nimport App from './App'\nimport store from './store'\n\nReactDOM.render(\n  <Provider store={store}>\n    <App />\n  </Provider>,\n  document.getElementById('root')\n)"],"sourceRoot":""}